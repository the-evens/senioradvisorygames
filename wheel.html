<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheel of Fortune - Senior Advisory Games</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">Back to Games</a>
        
        <div class="game-container wheel">
            <h1>Wheel of Fortune</h1>
            
            <!-- Setup Screen -->
            <div id="setupScreen" class="setup-screen">
                <div class="instructions">
                    <h2>How to Play</h2>
                    <p>Each team takes turns spinning the wheel and guessing letters to solve the puzzle. Spin the wheel to see what you can do - guess a letter, buy a vowel, or solve the puzzle. The team with the most money at the end wins!</p>
                </div>
                
                <div class="options">
                    <h2>Game Options</h2>
                    <div class="option-group">
                        <label>Number of Teams:</label>
                        <select id="teamCount">
                            <option value="1">1</option>
                            <option value="2" selected>2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label>Puzzle Category:</label>
                        <select id="puzzleCategory">
                            <option value="random" selected>Random</option>
                            <option value="food">Food</option>
                            <option value="movies">Movies</option>
                            <option value="places">Places</option>
                            <option value="things">Things</option>
                        </select>
                    </div>
                    
                    <button id="startGame" class="btn btn-primary">Start Game</button>
                </div>
            </div>
            
            <!-- Game Screen -->
            <div id="gameScreen" class="game-screen" style="display: none;">
                <div class="puzzle-display">
                    <h2 id="puzzleText">_ _ _ _ _ _ _ _ _ _ _</h2>
                </div>
                
                <div class="game-layout">
                    <div class="left-column">
                        <div class="wheel-container">
                            <div class="wheel" id="wheel">
                                <div class="wheel-segment" data-value="500">$500</div>
                                <div class="wheel-segment" data-value="600">$600</div>
                                <div class="wheel-segment" data-value="700">$700</div>
                                <div class="wheel-segment" data-value="800">$800</div>
                                <div class="wheel-segment" data-value="900">$900</div>
                                <div class="wheel-segment" data-value="1000">$1000</div>
                                <div class="wheel-segment" data-value="0">BANKRUPT</div>
                                <div class="wheel-segment" data-value="0">LOSE TURN</div>
                            </div>
                            <button id="spinBtn" class="btn btn-primary">Spin Wheel</button>
                        </div>
                    </div>
                    
                    <div class="right-column">
                        <div class="game-controls">
                            <div class="letter-guess">
                                <input type="text" id="letterInput" maxlength="1" placeholder="Guess a letter">
                                <button id="guessLetter" class="btn btn-secondary">Guess Letter</button>
                            </div>
                            <div class="solve-puzzle">
                                <input type="text" id="solveInput" placeholder="Solve the puzzle">
                                <button id="solvePuzzle" class="btn btn-primary">Solve Puzzle</button>
                            </div>
                        </div>
                        
                        <div class="teams">
                            <div id="teamsContainer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const puzzles = {
            random: [
                "HELLO HOW ARE YOU TODAY", "HAVE A WONDERFUL DAY", "NICE TO MEET YOU", "THANK YOU VERY MUCH", "SEE YOU LATER ALLIGATOR",
                "GOOD MORNING SUNSHINE", "WELCOME TO THE SHOW", "HAVE A GREAT TIME", "THANKS FOR COMING", "SEE YOU TOMORROW"
            ],
            food: [
                "I LOVE PIZZA AND PASTA", "CHOCOLATE CAKE IS DELICIOUS", "FRESH SALAD FOR LUNCH", "HOT DOG WITH MUSTARD", "ICE CREAM ON A HOT DAY",
                "SANDWICH WITH TURKEY", "SPAGHETTI AND MEATBALLS", "HAMBURGER AND FRENCH FRIES", "APPLE PIE FOR DESSERT", "COFFEE AND DONUTS"
            ],
            movies: [
                "STAR WARS IS AWESOME", "TITANIC WAS A GREAT MOVIE", "AVATAR IS BEAUTIFUL", "FROZEN IS MY FAVORITE", "TOY STORY IS FUNNY",
                "JURASSIC PARK IS SCARY", "THE LION KING IS CLASSIC", "FINDING NEMO IS CUTE", "SHREK IS HILARIOUS", "UP IS HEARTWARMING"
            ],
            places: [
                "NEW YORK CITY IS BIG", "PARIS FRANCE IS ROMANTIC", "LONDON BRIDGE IS FAMOUS", "GOLDEN GATE BRIDGE IS RED", "STATUE OF LIBERTY IS TALL",
                "EIFFEL TOWER IS TALL", "BIG BEN IS IN LONDON", "GRAND CANYON IS HUGE", "NIAGARA FALLS IS LOUD", "MOUNT RUSHMORE IS COOL"
            ],
            things: [
                "COMPUTER ON THE DESK", "TELEPHONE RINGS LOUDLY", "BICYCLE RIDE IS FUN", "CAMERA TAKES PICTURES", "WATCH TELLS TIME",
                "UMBRELLA KEEPS DRY", "BACKPACK HOLDS BOOKS", "SUNGLASSES PROTECT EYES", "KEYBOARD HAS LETTERS", "MIRROR SHOWS REFLECTION"
            ]
        };

        let game = {
            teams: [],
            currentTeam: 0,
            currentPuzzle: "",
            revealedLetters: [],
            currentSpin: 0,
            gameWords: []
        };

        function startGame() {
            const teamCount = parseInt(document.getElementById('teamCount').value);
            const category = document.getElementById('puzzleCategory').value;
            
            game.teams = [];
            for (let i = 0; i < teamCount; i++) {
                game.teams.push({ 
                    name: `Team ${i + 1}`, 
                    money: 0, 
                    active: i === 0
                });
            }
            
            // Select random puzzle
            const categoryPuzzles = puzzles[category];
            game.currentPuzzle = categoryPuzzles[Math.floor(Math.random() * categoryPuzzles.length)];
            game.revealedLetters = [];
            
            game.currentTeam = 0;
            
            document.getElementById('setupScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            
            renderTeams();
            updatePuzzleDisplay();
        }

        function renderTeams() {
            const container = document.getElementById('teamsContainer');
            container.innerHTML = '';
            
            game.teams.forEach((team, index) => {
                const div = document.createElement('div');
                let className = 'team';
                if (team.active) className += ' active';
                
                div.className = className;
                div.innerHTML = `
                    <h3>${team.name}</h3>
                    <div class="money">$${team.money}</div>
                `;
                container.appendChild(div);
            });
        }

        function updatePuzzleDisplay() {
            const puzzleText = game.currentPuzzle.split('').map(letter => {
                if (letter === ' ') return ' ';
                return game.revealedLetters.includes(letter) ? letter : '_';
            }).join(' ');
            
            document.getElementById('puzzleText').textContent = puzzleText;
        }

        function spinWheel() {
            const wheel = document.getElementById('wheel');
            const segments = wheel.querySelectorAll('.wheel-segment');
            const randomSegment = Math.floor(Math.random() * segments.length);
            const segment = segments[randomSegment];
            const value = parseInt(segment.dataset.value);
            
            // Add spinning animation
            wheel.style.transform = `rotate(${3600 + randomSegment * 30}deg)`;
            
            setTimeout(() => {
                game.currentSpin = value;
                if (value === 0) {
                    if (segment.textContent === 'BANKRUPT') {
                        game.teams[game.currentTeam].money = 0;
                        alert('BANKRUPT! You lose all your money!');
                    } else {
                        alert('LOSE TURN! Next team goes.');
                    }
                    switchToNextTeam();
                } else {
                    alert(`You spun $${value}! Guess a letter.`);
                }
                renderTeams();
            }, 2000);
        }

        function guessLetter() {
            const letter = document.getElementById('letterInput').value.toUpperCase();
            if (!letter || letter.length !== 1) return;
            
            if (game.revealedLetters.includes(letter)) {
                alert('Letter already guessed!');
                return;
            }
            
            if (game.currentPuzzle.includes(letter)) {
                game.revealedLetters.push(letter);
                game.teams[game.currentTeam].money += game.currentSpin;
                updatePuzzleDisplay();
                renderTeams();
                alert(`Correct! You found ${game.currentPuzzle.split(letter).length - 1} ${letter}'s. You earned $${game.currentSpin * (game.currentPuzzle.split(letter).length - 1)}!`);
                
                // Check if puzzle is solved
                if (isPuzzleSolved()) {
                    endGame();
                    return;
                }
            } else {
                alert('Sorry, that letter is not in the puzzle.');
                switchToNextTeam();
            }
            
            document.getElementById('letterInput').value = '';
        }

        function solvePuzzle() {
            const guess = document.getElementById('solveInput').value.toUpperCase();
            if (guess === game.currentPuzzle) {
                game.teams[game.currentTeam].money += game.currentSpin;
                alert('Congratulations! You solved the puzzle!');
                endGame();
            } else {
                alert('Sorry, that\'s not correct.');
                switchToNextTeam();
            }
            document.getElementById('solveInput').value = '';
        }

        function isPuzzleSolved() {
            return game.currentPuzzle.split('').every(letter => 
                letter === ' ' || game.revealedLetters.includes(letter)
            );
        }

        function switchToNextTeam() {
            game.teams[game.currentTeam].active = false;
            game.currentTeam = (game.currentTeam + 1) % game.teams.length;
            game.teams[game.currentTeam].active = true;
            game.currentSpin = 0;
            renderTeams();
        }

        function endGame() {
            // Find highest money
            const highestMoney = Math.max(...game.teams.map(team => team.money));
            
            // Highlight all teams with the highest money (winners/tied)
            game.teams.forEach((team, index) => {
                if (team.money === highestMoney) {
                    game.teams[index].winner = true;
                }
            });
            
            // Re-render teams to show winners in green
            renderTeams();
        }

        // Event listeners
        document.getElementById('startGame').onclick = startGame;
        document.getElementById('spinBtn').onclick = spinWheel;
        document.getElementById('guessLetter').onclick = guessLetter;
        document.getElementById('solvePuzzle').onclick = solvePuzzle;
        
        // Enter key support
        document.getElementById('letterInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') guessLetter();
        });
        
        document.getElementById('solveInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') solvePuzzle();
        });
    </script>
</body>
</html>
