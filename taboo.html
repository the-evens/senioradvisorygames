<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taboo - Senior Advisory Games</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">Back to Games</a>
        
        <div class="game-container taboo">
            <h1>Taboo/Heads Up</h1>
            
            <!-- Setup Screen -->
            <div id="setupScreen" class="setup-screen">
                <div class="instructions">
                    <h2>How to Play</h2>
                    <p>Each team has a timer that counts down. On their turn, they have to guess a word as their timer runs down. They can pass to get a new word. The team with the most points at the end wins.</p>
                </div>
                
                <div class="options">
                    <h2>Game Options</h2>
                    <div class="option-group">
                        <label>Number of Teams:</label>
                        <select id="teamCount">
                            <option value="1">1</option>
                            <option value="2" selected>2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label>Timer Length (seconds):</label>
                        <select id="timerLength">
                            <option value="5">5</option>
                            <option value="30">30</option>
                            <option value="60" selected>60</option>
                            <option value="90">90</option>
                            <option value="120">120</option>
                        </select>
                    </div>
                    
                    
                    <button id="startGame" class="btn btn-primary">Start Game</button>
                </div>
            </div>
            
            <!-- Game Screen -->
            <div id="gameScreen" class="game-screen" style="display: none;">
                <div class="current-word">
                    <h2 id="currentWord">Word will appear here</h2>
                </div>
                
                <div class="game-controls">
                    <button id="passBtn" class="btn btn-secondary">Pass</button>
                    <button id="correctBtn" class="btn btn-primary">Correct</button>
                </div>
                
                <div class="teams">
                    <div id="teamsContainer"></div>
                </div>
            </div>
            
        </div>
    </div>

    <script>
        const words = [
            "PIZZA", "ELEPHANT", "BIRTHDAY", "OCEAN", "MOUNTAIN", "TELEPHONE", 
            "GARDEN", "MAGIC", "TREASURE", "ADVENTURE", "RAINBOW", "BUTTERFLY", 
            "LIBRARY", "FIREWORKS", "SANDWICH", "BALLOON", "CANDLE", "PUZZLE", 
            "RAINCOAT", "COMPUTER", "KITCHEN", "SUNSHINE", "WINDOW", "BASKETBALL",
            "CHOCOLATE", "DINOSAUR", "ELEVATOR", "FIREFIGHTER", "GUITAR", "HAMBURGER",
            "ICE CREAM", "JUNGLE", "KANGAROO", "LADDER", "MIRROR", "NEWSPAPER",
            "OCTOPUS", "PENGUIN", "QUEEN", "ROBOT", "SUNGLASSES", "TELESCOPE",
            "UMBRELLA", "VACUUM", "WASHING MACHINE", "X-RAY", "YOGURT", "ZEBRA",
            "AIRPLANE", "BICYCLE", "CAMERA", "DENTIST", "ELEPHANT", "FISHING",
            "GOLF", "HOSPITAL", "ISLAND", "JEWELRY", "KITE", "LIGHTHOUSE",
            "MUSIC", "NECKLACE", "ORANGE", "PARK", "QUILT", "RIVER",
            "SNAKE", "TIGER", "UNICORN", "VIOLIN", "WATERFALL", "XENON",
            "YACHT", "ZIPPER", "APPLE", "BANANA", "CHERRY", "DONUT",
            "EGG", "FRENCH FRIES", "GRAPE", "HONEY", "ICECREAM", "JELLY",
            "KETCHUP", "LEMON", "MILK", "NUTS", "OLIVE", "PICKLE",
            "QUINOA", "RICE", "SALT", "TOMATO", "VANILLA", "WATER",
            "XIAOLONGBAO", "YOGURT", "ZUCCHINI", "ANCHOR", "BRIDGE", "CASTLE",
            "DOOR", "ELEVATOR", "FENCE", "GATE", "HOUSE", "IGLOO",
            "JET", "KAYAK", "LADDER", "MOTORCYCLE", "NEST", "OAR",
            "PARKING METER", "QUAY", "RAMP", "SIDEWALK", "TRAIN", "UNDERPASS",
            "VAN", "WALL", "X-RAY MACHINE", "YARD", "ZIPLINE", "ALARM CLOCK",
            "BED", "CHAIR", "DESK", "ENVELOPE", "FOLDER", "GLUE",
            "HIGHLIGHTER", "INK", "JOURNAL", "KEYBOARD", "LAMP", "MARKER",
            "NOTEBOOK", "OFFICE", "PAPERCLIP", "QUILL", "RULER", "STAPLER",
            "TAPE", "UNDERLINE", "VIBRATOR", "WALLET", "XEROX", "YELLOW PAGES",
            "ZIPPER", "ARTIST", "BANKER", "CHEF", "DENTIST", "ENGINEER",
            "FARMER", "GUIDE", "HUNTER", "INVENTOR", "JUDGE", "KEEPER",
            "LAWYER", "MECHANIC", "NURSE", "OPTICIAN", "PAINTER", "QUARTERBACK",
            "RANGER", "SAILOR", "TEACHER", "UNDERTAKER", "VETERINARIAN", "WAITER",
            "XENOBIOLOGIST", "YOGI", "ZOOKEEPER", "ANT", "BEAR", "CAT",
            "DOG", "EAGLE", "FROG", "GOAT", "HORSE", "IGUANA",
            "JELLYFISH", "KOALA", "LION", "MONKEY", "NEWT", "OWL",
            "PANDA", "QUAIL", "RABBIT", "SHEEP", "TURTLE", "URCHIN",
            "VULTURE", "WOLF", "XENOPS", "YAK", "ZEBRA", "ANGEL",
            "BABY", "CHILD", "DAD", "ELDER", "FRIEND", "GRANDPA",
            "HUSBAND", "INFANT", "JUDGE", "KID", "LADY", "MOM",
            "NEIGHBOR", "OFFICER", "PARENT", "QUEEN", "RULER", "SISTER",
            "TEENAGER", "UNCLE", "VOTER", "WOMAN", "XENOPHOBE", "YOUTH",
            "ZOMBIE", "ANGRY", "BORED", "CRAZY", "DIZZY", "EXCITED",
            "FUNNY", "GRUMPY", "HAPPY", "IRRITATED", "JOYFUL", "KIND",
            "LOVING", "MAD", "NERVOUS", "OPTIMISTIC", "PROUD", "QUIET",
            "RESTLESS", "SAD", "TIRED", "UPSET", "VIVACIOUS", "WILD",
            "XENIAL", "YOUTHFUL", "ZANY", "ARROW", "BOW", "CROWN",
            "DIAMOND", "EMERALD", "FIRE", "GOLD", "HELMET", "IRON",
            "JEWEL", "KEY", "LANCE", "MACE", "NECKLACE", "ORB",
            "PEARL", "QUIVER", "RING", "SWORD", "TIARA", "UMBRELLA",
            "VASE", "WAND", "XENON", "YOKE", "ZIRCON", "AUTUMN",
            "BREEZE", "CLOUD", "DROPLET", "EARTH", "FOG", "GUST",
            "HAIL", "ICE", "JETSTREAM", "KITE", "LIGHTNING", "MIST",
            "NEBULA", "OZONE", "PRECIPITATION", "QUAKE", "RAIN", "SNOW",
            "THUNDER", "UMBRELLA", "VAPOR", "WIND", "XENON", "YEAR",
            "ZENITH", "ABACUS", "BALANCE", "CALCULATOR", "DIVIDER", "ERASER",
            "FRACTION", "GEOMETRY", "HYPOTENUSE", "INTEGER", "JOURNAL", "KILOMETER",
            "LOGARITHM", "MULTIPLICATION", "NUMERATOR", "OPERATION", "PERCENTAGE", "QUOTIENT",
            "RADIUS", "SUBTRACTION", "TRIANGLE", "UNIT", "VARIABLE", "WHOLE",
            "X-AXIS", "Y-AXIS", "ZERO", "ACROBAT", "BALLERINA", "CLOWN",
            "DANCER", "ENTERTAINER", "FIRE EATER", "GYMNAST", "HOST", "ILLUSIONIST",
            "JUGGLER", "KARAOKE", "LIFEGUARD", "MAGICIAN", "NARRATOR", "ORATOR",
            "PERFORMER", "QUARTERBACK", "RINGMASTER", "SINGER", "TUMBLER", "USHER",
            "VOCALIST", "WRESTLER", "XENOPHILE", "YODELER", "ZANZIBAR"
        ];

        let game = {
            teams: [],
            currentTeam: 0,
            timers: [],
            gameWords: []
        };

        function startGame() {
            const teamCount = parseInt(document.getElementById('teamCount').value);
            const timerLength = parseInt(document.getElementById('timerLength').value);
            
            game.teams = [];
            game.timers = [];
            for (let i = 0; i < teamCount; i++) {
                game.teams.push({ 
                    name: `Team ${i + 1}`, 
                    score: 0, 
                    active: i === 0,
                    timeLeft: timerLength,
                    finished: false
                });
                game.timers.push(null);
            }
            
            game.gameWords = [...words].sort(() => Math.random() - 0.5);
            game.currentTeam = 0;
            
            document.getElementById('setupScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            
            renderTeams();
            nextWord();
            startAllTimers();
        }

        function renderTeams() {
            const container = document.getElementById('teamsContainer');
            container.innerHTML = '';
            
            game.teams.forEach((team, index) => {
                const div = document.createElement('div');
                let className = 'team';
                if (team.winner) className += ' winner';
                else if (team.finished) className += ' finished';
                else if (team.active) className += ' active';
                
                div.className = className;
                div.innerHTML = `
                    <h3>${team.name}</h3>
                    <div class="score">Score: ${team.score}</div>
                    <div class="timer" id="timer-${index}">${team.timeLeft}</div>
                `;
                container.appendChild(div);
            });
        }

        function nextWord() {
            if (game.gameWords.length === 0) {
                // Reshuffle words if we run out
                game.gameWords = [...words].sort(() => Math.random() - 0.5);
            }
            document.getElementById('currentWord').textContent = game.gameWords.pop();
        }

        function startAllTimers() {
            // Only start the active team's timer
            startCurrentTeamTimer();
        }

        function startCurrentTeamTimer() {
            const currentTeam = game.teams[game.currentTeam];
            if (!currentTeam.finished) {
                game.timers[game.currentTeam] = setInterval(() => {
                    currentTeam.timeLeft--;
                    document.getElementById(`timer-${game.currentTeam}`).textContent = currentTeam.timeLeft;
                    
                    if (currentTeam.timeLeft <= 0) {
                        currentTeam.finished = true;
                        clearInterval(game.timers[game.currentTeam]);
                        game.timers[game.currentTeam] = null;
                        
                        // Check if all teams are finished
                        if (game.teams.every(t => t.finished)) {
                            endGame();
                            return;
                        }
                        
                        // Switch to next active team
                        switchToNextActiveTeam();
                    }
                }, 1000);
            }
        }

        function switchToNextActiveTeam() {
            // Clear current team's timer
            if (game.timers[game.currentTeam]) {
                clearInterval(game.timers[game.currentTeam]);
                game.timers[game.currentTeam] = null;
            }
            
            game.teams[game.currentTeam].active = false;
            
            // Find next active team
            let nextTeam = (game.currentTeam + 1) % game.teams.length;
            while (game.teams[nextTeam].finished && nextTeam !== game.currentTeam) {
                nextTeam = (nextTeam + 1) % game.teams.length;
            }
            
            if (!game.teams[nextTeam].finished) {
                game.currentTeam = nextTeam;
                game.teams[game.currentTeam].active = true;
                renderTeams();
                nextWord();
                startCurrentTeamTimer();
            }
        }

        function passWord() { nextWord(); }
        function correctWord() { 
            game.teams[game.currentTeam].score++; 
            renderTeams(); 
            nextWord();
            switchToNextActiveTeam();
        }

        function endGame() {
            // Clear all timers
            game.timers.forEach(timer => {
                if (timer) clearInterval(timer);
            });
            
            // Find highest score
            const highestScore = Math.max(...game.teams.map(team => team.score));
            
            // Highlight all teams with the highest score (winners/tied)
            game.teams.forEach((team, index) => {
                if (team.score === highestScore) {
                    game.teams[index].winner = true;
                }
            });
            
            // Re-render teams to show winners in green
            renderTeams();
        }

        document.getElementById('startGame').onclick = startGame;
        document.getElementById('passBtn').onclick = passWord;
        document.getElementById('correctBtn').onclick = correctWord;
    </script>
</body>
</html>
